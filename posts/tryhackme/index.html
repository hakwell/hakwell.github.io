<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TryHackMe Writeups | Muzec</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <link rel="stylesheet" href="../../assets/css/main.css">
</head>
<body>
    <header>
        <a href="../../index.html" class="logo">muzec@hackwell:~$</a>
        <a href="../../index.html" class="back-btn">‚Üê Back to Home</a>
    </header>

    <div class="container">
        <h1>TryHackMe Writeups</h1>
        <p class="subtitle">Interactive cybersecurity learning and room walkthroughs</p>

        <div class="writeups-grid" id="writeups"></div>
    </div>

    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div class="markdown-content" id="content"></div>
        </div>
    </div>

    <script src="../../assets/js/main.js"></script>
    <script>
        // TryHackMe writeups data
        const writeups = [
            { title: "Basic Pentesting", difficulty: "easy", date: "2024-01-20", file: "basic-pentesting.md", preview: "Learn the basics of penetration testing with this beginner-friendly room" },
            { title: "Vulnversity", difficulty: "easy", date: "2024-01-18", file: "vulnversity.md", preview: "File upload vulnerability exploitation and privilege escalation" },
            { title: "Blue", difficulty: "easy", date: "2024-01-15", file: "blue.md", preview: "Windows privilege escalation and EternalBlue exploitation" },
            { title: "RootMe", difficulty: "easy", date: "2024-01-12", file: "rootme.md", preview: "Web application security and file upload bypass techniques" },
            { title: "Overpass", difficulty: "easy", date: "2024-01-10", file: "overpass.md", preview: "Password cracking and SSH key exploitation" },
            { title: "LazyAdmin", difficulty: "easy", date: "2024-01-08", file: "lazyadmin.md", preview: "CMS exploitation and privilege escalation" },
            { title: "Skynet", difficulty: "medium", date: "2024-01-05", file: "skynet.md", preview: "SMB enumeration and Samba exploitation" },
            { title: "Ice", difficulty: "medium", date: "2024-01-02", file: "ice.md", preview: "Windows privilege escalation and service exploitation" }
        ];

        function renderWriteups() {
            const grid = document.getElementById('writeups');
            grid.innerHTML = writeups.map(w => `
                <div class="writeup-card" onclick="loadWriteup('${w.file}')">
                    <h3>${w.title}</h3>
                    <span class="difficulty ${w.difficulty}">${w.difficulty.toUpperCase()}</span>
                    <p>${w.preview}</p>
                    <span class="date">${w.date}</span>
                </div>
            `).join('');
        }

        function loadWriteup(file) {
            const modal = document.getElementById('modal');
            const content = document.getElementById('content');
            
            // In production, fetch from: `/posts/tryhackme/${file}`
            // For demo, showing sample markdown
            const sampleMarkdown = `# ${file.replace('.md', '').replace('-', ' ').toUpperCase()} - TryHackMe

## Overview
This is a sample TryHackMe room writeup. Replace this content by fetching your actual markdown files.

## Task 1: Reconnaissance
\`\`\`bash
nmap -sC -sV -oN nmap.txt 10.10.10.10
\`\`\`

## Task 2: Enumeration
Description of enumeration steps...

## Task 3: Exploitation
Steps to gain initial access...

## Task 4: Privilege Escalation
Steps to gain root access...

---
*Add your actual writeup content here*`;

            content.innerHTML = marked.parse(sampleMarkdown);
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        window.onclick = (e) => {
            if (e.target.id === 'modal') closeModal();
        };

        renderWriteups();
    </script>
</body>
</html>
